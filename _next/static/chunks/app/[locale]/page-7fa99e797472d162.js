(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[61],{91384:function(e,o,t){Promise.resolve().then(t.bind(t,34327)),Promise.resolve().then(t.bind(t,21953))},21953:function(e,o,t){"use strict";t.d(o,{default:function(){return p}});var n=t(57437),l=t(2265),i=t(63395),s=t(93999),a=t(79593),r=t(77744),u=t(93996),d=t(5892),c=t(94648),m=l.memo(e=>{let o=(0,r.YP)(),t=l.useCallback(()=>{e.onPress&&e.onPress(e),null==o||o.panTo(new google.maps.LatLng(e.lat,e.lon))},[e,o]);return e.facility===u._.BIKE_STATION?(0,n.jsx)(d.Z,{onPress:t,...e}):(0,n.jsx)(c.Z,{onPress:t,...e})}),f=t(63874),p=l.memo(()=>{let{queryParameters:e,setQueryParameters:o}=(0,f.q)(),t=(0,a.YZ)(),{stations:r,waterFountains:u,lastUpdated:d,isLoading:c,refetch:p}=(0,a.Rx)(),[v,C]=l.useState(void 0),[b,g]=(0,a.$r)({timeout:3500},e=>{s.Am.error(null==e?void 0:e.message)}),k=l.useMemo(()=>({lat:parseFloat("43.7292717"),lng:parseFloat("-79.6082231")}),[]),_=l.useMemo(()=>b.latitude&&b.longitude?{lat:b.latitude,lng:b.longitude}:void 0,[b.timestamp,b.latitude,b.longitude]);return l.useEffect(()=>{g()},[]),l.useEffect(()=>{t||p()},[e]),(0,n.jsxs)(i.b6,{onClick:()=>C(void 0),mapContainerClassName:"w-full h-full relative",zoom:13,defaultCenter:k,center:_,options:{backControl:!0,backControlOptions:{onClick:g,isLoading:(null==b?void 0:b.loading)||void 0},fullscreenControl:!1,streetViewControl:!1,zoomControl:!1,mapId:"ef34fc3265e9becb",mapTypeControl:!1,clickableIcons:!1},children:[(0,n.jsx)(i.lD,{className:"hidden md:flex",isLoading:c,lastUpdated:d,queryParameters:e,onSubmit:o}),[...u||[],...r||[]].map(e=>(0,l.createElement)(m,{...e,key:e.station_id,onPress:C,active:e.facility===(null==v?void 0:v.facility)&&e.station_id===(null==v?void 0:v.station_id)})),(0,n.jsx)(i.zC,{geolocation:b,visible:void 0!==v,marker:v,onCancel:()=>C(void 0)})]})})}},function(e){e.O(0,[910,990,373,970,39,15,49,827,971,23,744],function(){return e(e.s=91384)}),_N_E=e.O()}]);